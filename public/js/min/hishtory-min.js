var SH={};SH.info={page:"",pageArgs:["nothing"],domain:"",holdingDomain:"",lastPage:"",root:window.location.pathname,land:""},SH.refOpenFunc=function(){return!1},SH.pages={"":[],home:[],pagenotfound:[]},SH.loadPage=function(o,n){return"undefined"==typeof n&&(n=""),SH.info.page=o,SH.info.pageArgs=n,SH.log(o),SH.refOpenFunc(o,n,SH.history.cbParam),!1},SH.errors=[],SH.log=function(o){"undefined"!=typeof window.console.log&&console.log(o),SH.errors.push(o)},SH.history={},SH.history.currentPage=!1,SH.history.currentPageArgs=[],SH.history.stop=!1,SH.history.cbParam=!1,SH.pushState=!0,SH.open=function(o,n){SH.history.cbParam=!1,SH.history.cbParam=n,SH.pushState?window.history.pushState("",o,"/"+SH.info.root+o):document.location.hash="#!/"+o},SH.history.manage=function(){var o=function(){"undefined"!=typeof SH.pages[e]?("undefined"!=typeof SH.pages[e][0]&&"undefined"!=typeof SH.pages[e][0].sub?"undefined"!=typeof SH.pages[e][0].sub[n]?(SH.info.page=e+"_"+n,SH.loadPage(e+"_"+n,t)):"undefined"!=typeof SH.pages[e]?SH.loadPage(e,t):SH.open("pagenotfound"):SH.loadPage(e,t),SH.info.lastPage=SH.history.currentPage,SH.history.currentPage=e):SH.open("pagenotfound")},n,t,e;if(SH.pushState===!0&&"#!/"!==document.location.hash.substr(0,3)){e=window.location.pathname.replace(SH.info.root,"");var i="";"/"===e&&""===SH.info.land&&(e="/home"),"/"===e.substr(0,1)&&(e=e.substr(1)),i=e.split(":")[0],null!==e&&""!==e&&"/"!==e?("undefined"!==e.split(":")[1]&&(SH.history.currentPageArgs=[],SH.history.currentPageArgs.push(e.split(":")[1])),e=e.split(":")[0],n=e.split("/")[1],t=e.split("/"),e=e.split("/")[0],i!==SH.info.pageArgs.join("/")&&o()):(SH.info.page=SH.info.land,SH.open(SH.info.land,!1))}else{var a=document.location.hash;if(SH.pushState===!0)return SH.open(a.substr(3),!1),!1;a.length>1&&window.location.pathname.substr(1)===SH.info.root&&"#!/"===a.substr(0,3)?("#!/"===a&&(a="#!/home"),a=a.substr(3).split("#")[0],"undefined"!==a.split(":")[1]&&(SH.history.currentPageArgs=[],SH.history.currentPageArgs.push(a.split(":")[1])),a=a.split(":")[0],n=a.split("/")[1],a=a.split("/")[0],t=document.location.hash.substr(3).split("/"),document.location.hash.substr(3)!==SH.info.pageArgs.join("/")&&(e=a,o())):"/"!==window.location.pathname.replace(SH.info.root,"")?(SH.history.stop=!0,window.location.assign("/"+SH.info.root+"#!/"+window.location.pathname.replace(SH.info.root,"").substr(1))):(SH.info.page=SH.info.land,SH.open(SH.info.land,!1))}},SH.history.patrol=function(o){SH.history.manage(),setInterval(function(){SH.history.stop===!1&&SH.history.manage()},200),o(!0)},SH.init=function(o,n){var t=function(o,n){"undefined"!=typeof n.forceFallback&&(SH.pushState=!1),window.history.pushState||(SH.pushState=!1),"undefined"==typeof o?SH.log("Simpler History: You must declare the main handler as the first argument of SH.init."):(SH.refOpenFunc=o,SH.history.patrol(function(o){o===!0&&SH.log("Simpler History Initialized...")}))};window.addEventListener?window.addEventListener("load",function(){t(o,n)},!1):window.attachEvent&&window.attachEvent("onload",function(){t(o,n)})};